<div class="col-md-2">
	<h3>Menu</h3>
	<hr>
    <ul class="nav nav-pills nav-stacked" id="menu">
        <!--<li class="active"><a href="#"><i class="fa fa-home fa-fw"></i>Home</a></li>-->
        <li><a id="make-recipe"><i class="fa fa-plus-square-o"></i> New recipe</a></li>
		<li><a id="import-recipe"><i class="fa fa-upload"></i> Import</a></li>
		<li><a id="export-recipe"><i class="fa fa-download"></i> Export</a></li>
		<li><a id="show-all"><i class="fa fa-list"></i> Show recipes</a></li>
    </ul>
</div>
<div class="col-md-9">
	<div id="section-title"></div>
	<div id="message"></div>
	<!--###########CREAR########################################-->
	<div id="make">
		<!--<form action="/home/new-recipe" method="post">-->
			<div class="form-group">
				<table style="width:100%; text-align:left;">
					<thead></thead>
					<tbody>
						<tr>
							<td><label>Name</label></td><td><input id="recipe-name" type="text" name="recipe_name" placeholder="New recipe name"></td>
							<td><label>Cost</label></td><td><input type="text" name="recipe_cost" readonly></td>
						</tr>
						<tr>
							<td><label>Rations</label></td><td><input id="n-rations" name="n-rations" type="number" min="1" value="1" title="Number of rations (> 0)"></td>
							<td><label>Ration cost</label></td>
							<td><input name="recipe_cost_ration" type="text" readonly></td>
						</tr>
						<tr>
							<td><label>Avatar</label></td>
							<td><label><input type="file" name="avatar"></label></td>
						</tr>
					</tbody>
				</table>
				<table style="width:100%; margin-top: 1%;">
					<thead></thead>
					<tbody>
						<tr><td><label>Making</label></td></tr>
						<tr><td><textarea name="instructions" rows="5" cols="70"></textarea></td></tr>
					</tbody>
				</table>
			</div>
			<hr>
			<div id="ingredient">
				<h4>Ingredients</h4>
				<table style="width:100%; text-align:right;">
					<thead></thead>	
					<tbody>
						<tr>
							<td><label>Name</label></td><td><input type="text" name="name" placeholder="New ingredient name"></td></td>
							<td><label>Price (â‚¬)</label></td><td><input name="volume" title="Price per unity/weight/volume" type="number" step="0.01" min="0" /></td>
							<td><label>Decrease (%)</label></td><td><input name="volume" type="number" step="0.01" min="0" /></td>
						</tr>
						<tr>
							<td><label>Quantity (u)</label></td><td><input type="number" name="quantity" min="0" max="50"></td>
							<td><label>Weight (gr)</label></td><td><input name="weight" type="number" step="0.01" min="0" /></td>
							<td><label>Volume (l)</label></td><td><input name="volume" type="number" step="0.01" min="0"/></td>
						</tr>
						<tr style="height: 15px"></tr>
						<tr>
							<td></td><td></td><td></td><td></td><td></td><td>
								<button class="btn btn-success">Save & New ingredient</button>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
			<hr>
			<div class="my-buttons">
				<a id="cancel" type="button" href="/home" class="btn btn-default">Cancel</a>
				<button id="save-recipe" class="btn btn-primary">Save recipe</button>
			</div>
		<!--</form>-->
	</div>

	<!--###########IMPORTAR####################################################-->
	<div id="import">importar</div>

	<!--###########EXPORTAR####################################################-->
	<div id="export">exportar</div>

	<!--###########SHOW########################################################-->
	<div id="show">mostrar recipe. Opcion de mostrar solo favoritas y buscar</div>
</div>

<div class="col-md-1"></div>

<script type="text/javascript">
	//$('#make').hide();
	$('#import').hide();
	$('#export').hide();
	//$('#section-title').html('<h3>Recipe list</h3><hr>');
	$('#section-title').html('<h3>New recipe</h3><hr>');
	//$('#show').show();
	$('#show').hide();

	$(document).ready(function(){
		$("#make-recipe").click(function(){
			$('#import').hide();
			$('#export').hide();
			$('#show').hide();
			$('#section-title').html('<h3>New recipe</h3><hr>');
			$('#make').show();
		});

		$("#cancel").click(function(){
			$('#make').hide();
			$('#import').hide();
			$('#export').hide();
			$('#show').hide();
		});

		$("#import-recipe").click(function(){
			$('#make').hide();
			$('#export').hide();
			$('#show').hide();
			$('#section-title').html('<h3>Import recipe</h3><hr>');
			$('#import').show();
		});

		$("#export-recipe").click(function(){
			$('#make').hide();
			$('#import').hide();
			$('#show').hide();
			$('#section-title').html('<h3>Export recipe</h3><hr>');
			$('#export').show();
		});

		$("#show-all").click(function(){
			$('#make').hide();
			$('#import').hide();
			$('#export').hide();
			$('#section-title').html('<h3>Recipe list</h3><hr>');
			$('#show').show();
		});

		$("#save-recipe").click(function(){
			if ( ($('#recipe-name').val() == "") || ($('#n-rations').val() == "") ){
				$("#message").hide();
    			$("#message").html('<p class ="alert alert-danger" role="alert">Check fields</p>');
    			$("#message").show(1000);
    			return false;
			}
			else
				$("#message").hide();

			$.ajax({
	    		type: "POST",
				url: "/home/new-recipe",
	      		data: {recipe_name: $('#recipe-name').val(), nration: $('#n-rations').val(), instructions: $("input[value='instructions']").val()},

	      		success: function(data){
	      			if(data.control == 0){
		  				$("#message").hide();
			        	$("#message").html('<p class ="alert alert-success" role="alert">Recipe created successfully</p>');
			        	$("#message").show(1000);
	      			}
	      		},

	      		error: function(xhr){
					console.log(xhr.status);
		    		console.log(xhr.statusText);
		    	}
		    });
		});
	});

</script>
